<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="hellojxl">
<meta property="og:url" content="https://hellojxl.com/page/2/index.html">
<meta property="og:site_name" content="hellojxl">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hellojxl">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://hellojxl.com/page/2/">





  <title>hellojxl</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">hellojxl</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/07/27/v2rayå®‰è£…æ³¨æ„è®°å½•/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/v2rayå®‰è£…æ³¨æ„è®°å½•/" itemprop="url">v2rayå®‰è£…æ³¨æ„è®°å½•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-27T21:02:19+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h4><p>æ–°è´­äº†ä¸€ä¸ªå›½å¤–VPSï¼Œè‚¯å®šè¦(ä½ æ‡‚çš„)ï¼Œä¸»æœºå•†æä¾›äº†ä¸‰ç§ç³»ç»Ÿï¼ŒUbuntuã€Debianå’ŒCentosï¼Œç”±äºæŸäº›åŸå› ä¸‰ç§ç³»ç»Ÿéƒ½è½®æµå®‰è£…äº†ä¸€éï¼Œæˆ–è€…è¯´éƒ½è™äº†ä¸€éäº†ï¼Œå…¶ä¸­ç»å†æƒ¨ä¸å¿ç¹å•Šï¼  </p>
<h4 id="ç›¸å…³é—®é¢˜"><a href="#ç›¸å…³é—®é¢˜" class="headerlink" title="ç›¸å…³é—®é¢˜"></a>ç›¸å…³é—®é¢˜</h4><p>ä¸å¾—ä¸è¯´<a href="https://www.v2ray.com" target="_blank" rel="noopener">v2ray</a>çš„å®˜æ–¹æ–‡æ¡£è¿˜æ˜¯å¾ˆé½å…¨çš„ï¼Œä½†æ˜¯ç”±äºlinuxçš„ç‰ˆæœ¬å¤ªå¤šè¿‡ç¨‹è¿˜æ˜¯ä¼šé‡åˆ°é—®é¢˜çš„ï¼Œæ‰€ä»¥å…·ä½“çš„å®‰è£…æ–‡æ¡£è¿˜æ˜¯å‚ç…§å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘è¿™é‡Œåªæ˜¯è®°å½•é‡åˆ°çš„é—®é¢˜  </p>
<ul>
<li>é—®é¢˜ä¸€ï¼šCentos7ä¸‹Nginxä¸‹æ— æ³•è¿›è¡Œæ•°æ®è½¬å‘ï¼ŒæŠ¥Permission Denied<br>è§£å†³æ–¹æ³•ï¼šå¯ä»¥<a href="https://toutyrater.github.io/advanced/wss_and_web.html" target="_blank" rel="noopener">å‚è€ƒç™½è¯é…ç½®</a>,ä¸è¿‡æˆ‘è¿™é‡Œç”±äºæ˜¯VPSçš„é—®é¢˜ï¼ŒSELinuxè¢«ä¸»æœºå•†ç¦ç”¨äº†ï¼Œå¼€å¯ä¸äº†ï¼Œåªèƒ½æ›´æ¢ç³»ç»Ÿ</li>
<li>é—®é¢˜äºŒï¼šDebianä¸‹SSLç‰ˆæœ¬ä½ï¼Œè¿™ä¸ªç®—ä¸ä¸Šé—®é¢˜ï¼Œåªæ˜¯æˆ‘è¿™å‡çº§å®Œsslå‡ºç°å¥½å¤šé—®é¢˜ï¼Œæœæ–­æ›´æ¢ç³»ç»Ÿï¼Œæ²¡åŠæ³•ï¼Œè‡ªå·±å¤ªèœğŸ¶ï¼Œå…³é”®æ˜¯ä¸æ˜ç™½ä»€ä¹ˆä¸»æœºå•†æä¾›çš„Debian8çš„sslåè®®ç«Ÿç„¶è¿™ä¹ˆä½ã€‚</li>
<li>é—®é¢˜ä¸‰ï¼šCentos6ä¸‹æç¤ºå‡ºé”™ï¼šInstall daemon fail, please install it manually<br>è§£å†³æ–¹æ³•ï¼šåŸæ¥æ˜¯å› ä¸ºä¸æ”¯æŒcentos6ï¼Œå‚è€ƒ<a href="https://www.feiqy.com/v2ray/" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼Œå…·ä½“å¦‚ä¸‹ï¼š<br>æ–°å»º/etc/init.d/v2ray,å¹¶æ·»åŠ ä¸‹é¢çš„é…ç½® </li>
</ul>
<pre><code>#!/bin/sh
#
# v2ray        Startup script for v2ray
#
# chkconfig: - 24 76
# processname: v2ray
# pidfile: /var/run/v2ray.pid
# description: V2Ray proxy services
#

### BEGIN INIT INFO
# Provides:          v2ray
# Required-Start:    $network $local_fs $remote_fs
# Required-Stop:     $remote_fs
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: V2Ray proxy services
# Description:       V2Ray proxy services
### END INIT INFO

DESC=v2ray
NAME=v2ray
DAEMON=/usr/bin/v2ray/v2ray
PIDFILE=/var/run/$NAME.pid
LOCKFILE=/var/lock/subsys/$NAME
SCRIPTNAME=/etc/init.d/$NAME
RETVAL=0

DAEMON_OPTS=&quot;-config /etc/v2ray/config.json&quot;

# Exit if the package is not installed
[ -x $DAEMON ] || exit 0

# Read configuration variable file if it is present
[ -r /etc/default/$NAME ] &amp;&amp; . /etc/default/$NAME

# Source function library.
. /etc/rc.d/init.d/functions

start() {
  local pids=$(pgrep -f $DAEMON)
  if [ -n &quot;$pids&quot; ]; then
    echo &quot;$NAME (pid $pids) is already running&quot;
    RETVAL=0
    return 0
  fi

  echo -n $&quot;Starting $NAME: &quot;

  mkdir -p /var/log/v2ray
  $DAEMON $DAEMON_OPTS 1&gt;/dev/null 2&gt;&amp;1 &amp;
  echo $! &gt; $PIDFILE

  sleep 2
  pgrep -f $DAEMON &gt;/dev/null 2&gt;&amp;1
  RETVAL=$?
  if [ $RETVAL -eq 0 ]; then
    success; echo
    touch $LOCKFILE
  else
    failure; echo
  fi
  return $RETVAL
}

stop() {
  local pids=$(pgrep -f $DAEMON)
  if [ -z &quot;$pids&quot; ]; then
    echo &quot;$NAME is not running&quot;
    RETVAL=0
    return 0
  fi

  echo -n $&quot;Stopping $NAME: &quot;
  killproc -p ${PIDFILE} ${NAME}
  RETVAL=$?
  echo
  [ $RETVAL = 0 ] &amp;&amp; rm -f ${LOCKFILE} ${PIDFILE}
}

reload() {
  echo -n $&quot;Reloading $NAME: &quot;
  killproc -p ${PIDFILE} ${NAME} -HUP
  RETVAL=$?
  echo
}

rh_status() {
  status -p ${PIDFILE} ${DAEMON}
}

# See how we were called.
case &quot;$1&quot; in
  start)
    rh_status &gt;/dev/null 2&gt;&amp;1 &amp;&amp; exit 0
    start
    ;;
  stop)
    stop
    ;;
  status)
    rh_status
    RETVAL=$?
    ;;
  restart)
    stop
    start
    ;;
  reload)
    reload
  ;;
  *)
    echo &quot;Usage: $SCRIPTNAME {start|stop|status|reload|restart}&quot; &gt;&amp;2
    RETVAL=2
  ;;
esac
exit $RETVAL
</code></pre><p>å¢åŠ æƒé™å¹¶åŠ å…¥å¼€æœºå¯åŠ¨  </p>
<pre><code>chmod a+x /etc/init.d/v2ray
chkconfig v2ray on
service v2ray start
</code></pre><h4 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h4><p>å“ˆå“ˆï¼Œæœ‰ç‚¹æ°´ï¼Œä¸ºäº†æŠ˜è…¾è¿™ä¸ªæŠ˜è…¾äº†2å¤©ï¼Œæœ¬æ¥ubuntuæŒºå¥½çš„ï¼Œå› ä¸ºé€Ÿåº¦æœ‰ç‚¹æ…¢å°±æ¢æˆåˆ«çš„ç³»ç»Ÿå‡†å¤‡é€€è´¹ï¼Œç»“æœğŸ˜“ï¼Œå¥½äº†ï¼ŒåƒğŸ‰  </p>
<h4 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h4><ol>
<li>æ‰‰å¯åšå®¢ <a href="https://www.feiqy.com/v2ray/" target="_blank" rel="noopener">https://www.feiqy.com/v2ray/</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/07/21/å…³äºNginxå¯ç”¨Httpsçš„è®°å½•/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/21/å…³äºNginxå¯ç”¨Httpsçš„è®°å½•/" itemprop="url">å…³äºNginxå¯ç”¨Httpsçš„è®°å½•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-21T22:54:45+08:00">
                2018-07-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Nginx/" itemprop="url" rel="index">
                    <span itemprop="name">Nginx</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="è®°å½•åŸå› "><a href="#è®°å½•åŸå› " class="headerlink" title="è®°å½•åŸå› "></a>è®°å½•åŸå› </h4><p>ä¹‹å‰ä¹Ÿéƒ¨ç½²è¿‡ï¼Œç»“æœä¸Šæ¬¡å› ä¸ºä¹°äº†ä¸€ä¸ªæ–°çš„VPSï¼Œæ‰“ç®—éƒ¨ç½²<a href="https://www.v2ray.com" target="_blank" rel="noopener">v2ray</a>çš„æ—¶å€™ï¼Œé‡åˆ°ç‚¹é—®é¢˜ï¼Œæ„Ÿè§‰è¿˜æ˜¯è¦è®°å½•ä¸‹æ¥ï¼Œå› ä¸ºæ˜¯è‡ªå·±ç”¨æ‰€ä»¥å°±ç›´æ¥ç”¨Letâ€™s Encryptéƒ¨ç½²å§ï¼Œå› ä¸ºå¯ä»¥è‡ªåŠ¨ç»­æœŸï¼Œ90å¤©ä¹Ÿæ— æ‰€è°“ã€‚  </p>
<h4 id="å®‰è£…éƒ¨ç½²"><a href="#å®‰è£…éƒ¨ç½²" class="headerlink" title="å®‰è£…éƒ¨ç½²"></a>å®‰è£…éƒ¨ç½²</h4><p>å•¥ä¹Ÿä¸è¯´ï¼Œç›´æ¥ä¸Š<a href="https://certbot.eff.org/" target="_blank" rel="noopener">certbot</a>,è¯¦ç»†çš„å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œåªè®°å½•ç®€å•çš„éƒ¨ç½²  </p>
<ul>
<li>å®‰è£…å‰æ<br>å› ä¸ºcertbotåŸºäºpythonï¼Œæ‰€ä»¥ç³»ç»Ÿéœ€è¦å…ˆå®‰è£…Python 2.7 or 3.4+ä»¥ä¸Šçš„ç‰ˆæœ¬</li>
<li>ä¸‹è½½certbot  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># wget https://dl.eff.org/certbot-auto //ä¸‹è½½</span><br><span class="line"># chmod a+x ./certbot-auto  //ä¿®æ”¹æƒé™</span><br><span class="line"># ./certbot-auto --help  //éªŒè¯æ˜¯å¦æˆåŠŸ</span><br></pre></td></tr></table></figure>
<ul>
<li>å¼€å§‹éƒ¨ç½²  </li>
</ul>
<p>é¦–å…ˆè¦çœ‹nginxçš„æ ¹ç›®å½•åœ¨ä»€ä¹ˆä½ç½®ï¼Œæœ‰çš„åœ¨/var/www/htmlä¸‹ï¼Œæœ‰çš„åœ¨/usr/share/nginx/htmlä¸‹ã€‚</p>
<p>ç„¶åé…ç½®nginxè¯»å–certbotäº§ç”Ÿçš„æ–‡æœ¬æ–‡ä»¶  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">location ~ /.well-known/acme-challenge/ &#123;</span><br><span class="line">	allow	all;</span><br><span class="line">	root /usr/share/nginx/html;</span><br><span class="line">	default_type	&quot;text/plain&quot;;</span><br><span class="line">&#125;</span><br><span class="line">location = /.well-known/acme-challenge/ &#123;</span><br><span class="line">	return 404;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œnginx -s reloadé‡æ–°åŠ è½½é…ç½®  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./certbot-auto certonly --webroot -w /usr/share/nginx/html/ -d your.domain.com</span><br></pre></td></tr></table></figure>
<p>æŒ‡å®šwebrootå’ŒåŸŸåï¼Œåªè¦èƒ½å¤Ÿè®¿é—®å°±æˆåŠŸäº†ï¼Œåˆ‡è®°ä¸€æ¬¡æœ€å¤šäº”æ¬¡ï¼Œå¦åˆ™ä¼šè¢«é™åˆ¶ï¼Œå½“æ—¶å› ä¸ºåœ°å€å¼„é”™äº†ï¼Œç­‰äº†ä¸€ä¸ªæ˜ŸæœŸâ€¦  </p>
<p>å‘æ”¾è¯ä¹¦äº†è¿˜éœ€è¦é…ç½®nginxå¯ç”¨  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">	listen	80;</span><br><span class="line">	server_name	www.domain.com domain.com;</span><br><span class="line">	return	301	$scheme:https://www.$host$request_uri;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen       443	ssl http2;</span><br><span class="line">    ssl	on;</span><br><span class="line">    server_name  your.domain.com;</span><br><span class="line">    add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;;</span><br><span class="line">    ssl_certificate	/etc/letsencrypt/live/your.domain.com/fullchain.pem;</span><br><span class="line">    ssl_certificate_key	 /etc/letsencrypt/live/your.domain.com/privkey.pem;</span><br><span class="line">    ssl_trusted_certificate	/etc/letsencrypt/live/your.domain.com/chain.pem;</span><br><span class="line">    ssl_protocols	TLSV1.1	TLSV1.2;</span><br><span class="line">    ssl_prefer_server_ciphers	on;</span><br><span class="line">    ssl_ciphers	AES256+EECDH:AES256+EDH:!aNULL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé‡åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯ç½‘ä¸Šå¥½å¤šé…ç½®çš„ssl_certificateæ˜¯fullchain.pemï¼Œç»“æœæµè§ˆå™¨ä¸Šéƒ½ä¼šæŠ¥ä¸ä¿¡ä»»é”™è¯¯ï¼Œåæ¥å‘ç°åŸæ¥æ˜¯è®¿é—®åœ°å€çš„é—®é¢˜ï¼Œè¿™é‡Œæ¶‰åŠåˆ°è£¸åŸŸçš„é—®é¢˜ï¼Œé»˜è®¤é…ç½®çš„å¯èƒ½æ˜¯<a href="http://www.example.comï¼Œå¦‚æœæˆ‘ç›´æ¥è®¿é—®example.comé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šæŠ¥åŸŸåä¸åŒ¹é…çš„é—®é¢˜ï¼Œå› ä¸ºç­¾åçš„æ—¶å€™æ˜¯å¸¦wwwçš„ï¼Œæ‰€ä»¥éœ€è¦301é‡å®šå‘åˆ°wwwä¸Šå°±å¯ä»¥äº†ã€‚" target="_blank" rel="noopener">www.example.comï¼Œå¦‚æœæˆ‘ç›´æ¥è®¿é—®example.comé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šæŠ¥åŸŸåä¸åŒ¹é…çš„é—®é¢˜ï¼Œå› ä¸ºç­¾åçš„æ—¶å€™æ˜¯å¸¦wwwçš„ï¼Œæ‰€ä»¥éœ€è¦301é‡å®šå‘åˆ°wwwä¸Šå°±å¯ä»¥äº†ã€‚</a> </p>
<p>æ¥ä¸‹æ¥å°±æ˜¯è‡ªåŠ¨ç»­æœŸäº†ï¼Œå¾ˆç®€å•  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./certbot-auto renew --quiet</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºæˆ‘æ˜¯åœ¨centos7ä¸Šæ‰§è¡Œçš„ï¼Œä¸åŒçš„ç³»ç»Ÿå‘½ä»¤å¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œç²¾åŠ›æœ‰é™æ²¡åŠæ³•ä¸€ä¸€æµ‹è¯•ï¼Œä¸€å®šè¦æ³¨æ„ã€‚  </p>
<h4 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h4><p>éƒ¨ç½²å®Œä¹‹åå¯ä»¥ç”¨<a href="https://www.ssllabs.com/ssltest/" target="_blank" rel="noopener">SSL Labs</a>æœåŠ¡è¿›è¡Œæµ‹è¯•çœ‹çœ‹å¾—å¤šå°‘åˆ†ï¼Œä¹ŸæŒºå¥½ç©çš„ğŸ˜„ï¼Œä¹‹å‰çŸ¥é“git pagesä¹Ÿå¯ç”¨httpsä¹‹åï¼Œä¸€ç›´æƒ³å¯ç”¨ï¼Œç»“æœå‘ç°è…¾è®¯çš„dnsè®°å½•åªèƒ½æ·»åŠ ä¸‰æ¡ï¼Œå†å¤šå°±å¾—åŠ é’±ï¼Œå¿«åˆ°æœŸçš„æ—¶å€™ä¸€å®šè¦è¿å‡ºå»ï¼Œç›®å‰æ‰“ç®—è¿åˆ°namesiloï¼Œå›½å†…çœŸæ˜¯å„ç§å—é™ğŸ˜–</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/07/16/ManjaroæŠ˜è…¾ç¬”è®°/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/16/ManjaroæŠ˜è…¾ç¬”è®°/" itemprop="url">ManjaroæŠ˜è…¾ç¬”è®°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-07-16T22:16:18+08:00">
                2018-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>ç”±äºå…¬å¸é…çš„E460ç¬”è®°æœ¬ç»å¸¸æ­»æœºï¼Œä¸æ¸…æ¥šæ˜¯ä¸æ˜¯win10çš„é—®é¢˜ï¼ŒåŒæ—¶ç”±äºwin10æ˜¯å®¶åº­ç‰ˆæ— æ³•ä½¿ç”¨Dockerï¼Œæ‰€ä»¥æ‰“ç®—æ¢ä¸€ä¸‹ç³»ç»Ÿçœ‹çœ‹æœ‰æ²¡æœ‰æ”¹å–„ï¼Œå¹¶ä¸”ä¸æƒ³è£…åŒç³»ç»Ÿï¼Œæ‰€ä»¥ç”¨è™šæ‹Ÿæœºä»£æ›¿ï¼Œä¸‹é¢å°±æ˜¯æ•´ä¸ªæŠ˜è…¾çš„è¿‡ç¨‹ï¼Œè™½ç„¶æœ€ç»ˆä»¥å¤±è´¥è€Œå‘Šç»ˆã€‚  </p>
<h4 id="1-é€‰æ‹©å®¿ä¸»ä¸»æœºç³»ç»Ÿ"><a href="#1-é€‰æ‹©å®¿ä¸»ä¸»æœºç³»ç»Ÿ" class="headerlink" title="1.é€‰æ‹©å®¿ä¸»ä¸»æœºç³»ç»Ÿ"></a>1.é€‰æ‹©å®¿ä¸»ä¸»æœºç³»ç»Ÿ</h4><ul>
<li><p>ä»¥win10ä¸ºå®¿ä¸»ä¸»æœºï¼Œè™šæ‹Ÿlinuxï¼Œä½†æ˜¯ç”±äºwin10ç³»ç»Ÿä¸‹å¤§æ¦‚ç‡ä¼šæ­»æœºï¼Œæ‰€ä»¥ä¸æƒ³é‡‡ç”¨è¿™ç§æ–¹æ¡ˆ   </p>
</li>
<li><p>ä»¥linuxä¸ºå®¿ä¸»ä¸»æœºï¼Œè™šæ‹ŸWindowsï¼Œå¯èƒ½ä¼šæ¶ˆè€—èµ„æºå¤šä¸€äº›ï¼Œä¸è¿‡è¿˜å¯ä»¥æ‰¿å—ã€‚æ‰€ä»¥æ‰“ç®—é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚  </p>
</li>
</ul>
<h4 id="2-é€‰æ‹©Linuxå‘è¡Œç‰ˆæœ¬"><a href="#2-é€‰æ‹©Linuxå‘è¡Œç‰ˆæœ¬" class="headerlink" title="2.é€‰æ‹©Linuxå‘è¡Œç‰ˆæœ¬"></a>2.é€‰æ‹©Linuxå‘è¡Œç‰ˆæœ¬</h4><p>å·²ç»å¥½é•¿æ—¶é—´æ²¡æœ‰æŠ˜è…¾linuxæ¡Œé¢ç³»ç»Ÿäº†ï¼Œæœ€æ—©æŠ˜è…¾è¿‡ubuntu,debianå’Œsuseï¼Œåæ¥å°±ä¸€ç›´Windowså’ŒMacã€‚åˆšå¼€å§‹æƒ³è£…ubuntuï¼Œæ¯•ç«Ÿä¹‹å‰å®‰è£…è¿‡ï¼Œç†Ÿæ‚‰ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸‹çš„ubuntuçš„é•œåƒç”¨vmwareå®‰è£…ï¼Œä½†æ˜¯åˆ°äº†åˆ†åŒºç•Œé¢æ­»æ´»åˆ†ä¸äº†åŒºï¼Œé‚æƒ³èµ·æ¥deepinï¼Œä¸‹å®Œä¹‹åå¯ä»¥æ­£å¸¸å®‰è£…ï¼Œä¸è¿‡è¿›äº†ç³»ç»Ÿä¹‹åé‚£æ˜¯ä¸€ä¸ªå¡ï¼Œè·Ÿä¹‹å‰æƒ³çš„å®Œå…¨ä¸ä¸€æ ·ï¼Œç„¶ååˆæ¢ï¼Œå°±æ‰¾åˆ°äº†Manjaroï¼ŒåŸºäºarchçš„å‘è¡Œç‰ˆï¼Œä¹‹å‰ä¹Ÿå¬è¿‡archï¼Œä¸è¿‡æ²¡æ¥è§¦è¿‡ï¼Œä½†æ˜¯çœ‹å¥½è¯„ä¸é”™å°±é€‰ç”¨äº†Manjaroã€‚  </p>
<h4 id="3-è™šæ‹Ÿæœºä½“éªŒ"><a href="#3-è™šæ‹Ÿæœºä½“éªŒ" class="headerlink" title="3.è™šæ‹Ÿæœºä½“éªŒ"></a>3.è™šæ‹Ÿæœºä½“éªŒ</h4><p>å› ä¸ºMacä¹°çš„Vmware Fusionç”¨çš„è¿˜å¯ä»¥ï¼Œå°±å¼€å§‹ç”¨çš„vmware playerå®‰è£…ï¼Œé¡ºä¾¿æŠŠè¯¥è£…çš„è½¯ä»¶éƒ½è£…äº†ä¸€ä¸‹ï¼Œå®Œäº‹ä¹‹åæ„Ÿè§‰éå¸¸ä¸é”™ï¼Œåæ¥å› ä¸ºVmware Playerçš„ç‰ˆæƒçš„åŸå› æ‰“ç®—ç”¨virtual boxä»£æ›¿ï¼Œç»“æœè¿ç§»åŠå¤©éƒ½æ²¡æˆåŠŸï¼Œå¼•å¯¼çš„æ—¶å€™æ€»æ˜¯æç¤ºæ‰¾ä¸åˆ°ç¡¬ç›˜ï¼Œæœ€åVmware Workstationéƒ½ç”¨ä¸Šäº†ä¾æ—§å¤±è´¥ï¼Œè¿ç§»ä»€ä¹ˆçš„æœç„¶æ˜¯éª—äººçš„ğŸ¤¦â€â™‚ï¸ï¼Œåªå¥½åˆç”¨virtual boxé‡è£…äº†ä¸€éï¼Œå®Œäº†ä¹‹åå‘ç°æ³¨é”€çš„æ—¶å€™ç«Ÿç„¶ä¸å¡äº†ï¼ï¼ï¼  </p>
<h4 id="4-çœŸæœºå®‰è£…"><a href="#4-çœŸæœºå®‰è£…" class="headerlink" title="4.çœŸæœºå®‰è£…"></a>4.çœŸæœºå®‰è£…</h4><p>è™šæ‹Ÿæœºæ„Ÿè§‰ä¸é”™å°±çœŸæœºå®‰è£…å§ï¼Œå…¶å®å¿ƒé‡ŒæŒºæ‹…å¿ƒçš„ï¼Œæ¯•ç«Ÿæ˜¯å·¥ä½œç”¨ï¼Œåˆ»ç›˜ç”¨çš„rufusï¼Œddæ¨¡å¼ï¼Œå¤‡ä»½æ•´ä¸ªç³»ç»Ÿç›˜ï¼Œæ‰“ç®—å…¨éƒ¨æŠ¹ç›˜ï¼Œæ’å…¥Uç›˜å¼€å§‹ï¼Œæ²¡æœ‰è¿›å…¥å¼•å¯¼ï¼Ÿå¥½å§ï¼Œæ›´æ”¹biosè®¾ç½®ï¼Œå¯ä»¥è¿›å…¥äº†ï¼Œç»“æœå®‰è£…çš„è¿‡ç¨‹ä¸­å‡ºç°ï¼š[drm:atom_op_jump [amdgpu]]<em>ERROR</em> atombios stuck in loop for more than 5secs abortingï¼Œåº”è¯¥æ˜¯amdæ˜¾å¡é©±åŠ¨çš„é—®é¢˜ï¼Œgoogleä¹Ÿæ²¡æŸ¥åˆ°å¥½çš„è§£å†³åŠæ³•ï¼Œä»¥å¤±è´¥è€Œå‘Šç»ˆğŸ˜…  </p>
<h4 id="5-Manjaroé…ç½®è®°å½•"><a href="#5-Manjaroé…ç½®è®°å½•" class="headerlink" title="5.Manjaroé…ç½®è®°å½•"></a>5.Manjaroé…ç½®è®°å½•</h4><p>ç½‘ä¸Šæœ‰å¥½å¤šï¼Œè‡ªå·±åªæ˜¯å€Ÿé‰´å¹¶è®°å½•ä¸€ä¸‹ï¼Œå¤‡ç”¨  </p>
<ul>
<li>æ›´æ”¹å›½å†…æº</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman-mirrors -i -c China  //æ”¹ä¸ºå›½å†…æº</span><br><span class="line">$ sudo pacman -Syy  //æ›´æ–°æ•°æ®æº</span><br></pre></td></tr></table></figure>
<ul>
<li>è®¾ç½® archlinuxcn æºï¼Œä¿®æ”¹ /etc/pacman.confï¼Œæœ€åæ·»åŠ   </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Optional TrustedOnly</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch  //æ·»åŠ æ¸…åæº  </span><br><span class="line">// æ›´æ–°</span><br><span class="line">$ sudo pacman -Syy</span><br></pre></td></tr></table></figure>
<ul>
<li>è®¾ç½®AURå›½å†…æºå¹¶å®‰è£… </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S  yaourt </span><br><span class="line"></span><br><span class="line">ä¿®æ”¹ /etc/yaourtrcï¼Œå»æ‰ # AURURL çš„æ³¨é‡Šï¼Œä¿®æ”¹ä¸º:</span><br><span class="line">AURURL=â€https://aur.tuna.tsinghua.edu.cnâ€</span><br></pre></td></tr></table></figure>
<ul>
<li>å®‰è£…æœç‹—è¾“å…¥æ³•  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx-im</span><br><span class="line">sudo pacman -S fcitx-configtool </span><br><span class="line">sudo pacman -S fcitx-sogoupinyin  </span><br><span class="line"></span><br><span class="line">//å¢åŠ é…ç½®æ–‡ä»¶</span><br><span class="line">$ sudo nano ~/.xprofile //æ²¡æœ‰æ–°å»ºå¹¶æ·»åŠ ä¸€ä¸‹ä»£ç </span><br><span class="line"></span><br><span class="line">export GTK_IM_MODULE=fcitx </span><br><span class="line">export QT_IM_MODULE=fcitx </span><br><span class="line">export XMODIFIERS=â€@im=fcitxâ€</span><br><span class="line"></span><br><span class="line">//ä¿å­˜åæ³¨é”€ï¼Œæˆ‘è¿™é‡Œæ€»æ˜¯å‡ºé—®é¢˜ï¼Œæ‰€ä»¥æ²¡ç”¨æœç‹—ï¼Œç”¨çš„é»˜è®¤çš„</span><br></pre></td></tr></table></figure>
<ul>
<li>å…¶å®ƒè½¯ä»¶å¤§éƒ¨åˆ†éƒ½å¯ä»¥ç”¨pacmanå°±å¯ä»¥äº†ï¼Œä¸èµ˜è¿°äº†ï¼Œé¡ºä¾¿è¯´ä¸‹sublime3çš„å®‰è£…ï¼Œå®˜æ–¹æ•™ç¨‹å¾ˆå¥½å¯å°±æ˜¯httpsè¢«å¢™äº†ï¼Œç”¨httpå°±å¯ä»¥äº†  </li>
</ul>
<h4 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h4><p>æµªè´¹äº†ä¸€ä¸ªå‘¨æœ«å®‰è£…è¿™äº›ä¸œè¥¿ï¼Œç»“æœè¿˜æ˜¯å¤±è´¥äº†ï¼Œæœç„¶è€äº†ï¼Œä¸çˆ±æŠ˜è…¾äº†ï¼Œç¡è§‰äº†ğŸ˜ªã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/06/28/å…³äºHangfireçš„ç”¨æ³•/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/28/å…³äºHangfireçš„ç”¨æ³•/" itemprop="url">å…³äºHangfireçš„ç”¨æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-28T21:56:14+08:00">
                2018-06-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/dotnet-core/" itemprop="url" rel="index">
                    <span itemprop="name">dotnet core</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘é¡¹ç›®ä¸­è¦æ‰§è¡Œåå°ä»»åŠ¡ï¼Œæ‰€ä»¥æ‰¾äº†ä¸€ä¸‹ç›¸å…³åº“ï¼Œåˆšå¼€å§‹ç”¨çš„æ˜¯<a href="https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/2.0.0-rtm-10046" target="_blank" rel="noopener">TimedJob</a>ï¼Œç”¨èµ·æ¥å¾ˆç®€å•ï¼Œæœ¬èº«æä¾›ä¾èµ–æ³¨å…¥,ä»£ç å¦‚ä¸‹ï¼š  </p>
<pre><code>
//å…ˆåœ¨ConfigureServicesæ·»åŠ 
app.AddTimedJob();  
//ç„¶ååœ¨Configureä¸­ä½¿ç”¨
app.UseTimedJob();
//å®šä¹‰ä¸€ä¸ªç±»ç»§æ‰¿æ¥å£Job
public Class MyJob:Job
{
    private IConfigure _configure;
    //æ³¨å…¥é…ç½®æ–‡ä»¶
    public MyJob(IConfigure configure)
    {
        _configure=configure;
    }
    [Invoke(Begin = &quot;2018-11-29 23:00:00&quot;, Interval = 1000 * 3600 * 24, SkipWhileExecuting =true)]
     public void Run()
     {
          //Jobè¦æ‰§è¡Œçš„é€»è¾‘ä»£ç 
          Console.WriteLine(&quot;hello world&quot;);
     }
}  

</code></pre><p>æ•´ä¸ªç”¨æ³•è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œå¦‚æœåªæ˜¯ä¸€äº›ç®€å•ä»»åŠ¡å¯ä»¥é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œåªæ˜¯å¦‚æœæƒ³é€šè¿‡UIæ§åˆ¶çš„è¯ï¼Œè¿™ç§æ–¹å¼åšçš„å·¥ä½œæœ‰ç‚¹å¤šï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±è¦è¯´åˆ°<a href="https://www.hangfire.io" target="_blank" rel="noopener">Hangfire</a>äº†,è¿™ä¸ªç”¨èµ·æ¥å°±æ›´ç®€å•äº†ï¼Œè€Œä¸”è‡ªå¸¦UIï¼Œå¯ä»¥ç›´æ¥åœ¨UIä¸Šè¿›è¡Œä»»åŠ¡è§¦å‘ï¼Œç”¨æ³•è·ŸTimedJobå·®ä¸å¤šï¼ŒåŒæ—¶ç”±äºHangfireéœ€è¦ä¿å­˜ä»»åŠ¡ï¼Œéœ€è¦æ•°æ®åº“æ”¯æŒï¼Œç¬¬ä¸‰æ–¹æ’ä»¶ä¹Ÿæ”¯æŒRedisï¼Œç”±äºé¡¹ç›®æ­£å¥½ç”¨Sql Serverï¼Œå†åŠ ä¸Šä»»åŠ¡ä¸æ˜¯å¾ˆå¤æ‚å°±ç›´æ¥ç”¨æ•°æ®åº“äº†  </p>
<pre><code>
//æ·»åŠ Hangfireï¼Œæ­¤å¤„ç”¨çš„æ˜¯PostgreSql
services.AddHangfire(
    config=&gt;{
    config.UsePostgreSqlStorage(&quot;ConnectionString&quot;);
 });  
 //ä½¿ç”¨Hangfire
 app.UseHangfireServer();
 //è‡ªå®šä¹‰è®¤è¯ï¼Œé»˜è®¤åªèƒ½æœ¬åœ°
 DashboardOptions options=new DashboardOptions();
 options.Authorization=new []{new MyAuthorization()};
 app.UseHangfireDashboard(&quot;/Job&quot;,options);

 //æ·»åŠ ä»»åŠ¡
RecurringJob.AddOrUpdate(&quot;MyJob&quot;,x=&gt;x.HelloTest(&quot;Hello World&quot;),Cron.Minutely);
</code></pre><p>è¿™é‡Œæœ‰ä¸¤ä¸ªé—®é¢˜éœ€è¦è§£å†³ä¸€ä¸‹   </p>
<ul>
<li>ä¾èµ–æ³¨å…¥ï¼Œè¿™ä¸ªé€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°  </li>
</ul>
<pre><code>//å…ˆå®šä¹‰æ¥å£
public interface IGoodJob
{
    void HelloTest(string test);
}
//å®ç°æ¥å£
public class MyJob : IGoodJob
{
    private IConfiguration _configure;
    public MyJob(IConfiguration Configuration)
    {
         _configure=Configuration;
    }
    public void HelloTest(string test)
    {
        Console.WriteLine(&quot;hello&quot;+test);
    }
}
//åœ¨ConfigureServicesä¸­æ³¨å†Œ
services.AddSingleton&lt;IGoodJob,MyJob&gt;();
//åœ¨æœ€åè°ƒç”¨
RecurringJob.AddOrUpdate&lt;IGoodJob&gt;(&quot;Job&quot;,x=&gt;x.HelloTest(&quot;good&quot;),Cron.Minutely);
</code></pre><ul>
<li>è‡ªå®šä¹‰è®¤è¯ï¼Œç”±äºå½“å‰é¡¹ç›®ç”¨çš„æ˜¯JWTè®¤è¯ï¼Œå½“æ—¶å‚è€ƒäº†<a href="https://discuss.hangfire.io/t/using-bearer-auth-token/2166/3" target="_blank" rel="noopener">è¿™é‡Œ</a>,å°±æ˜¯Hangfireçš„è®ºå›ï¼Œç”±äºå¢åŠ è®¤è¯ä¹‹åï¼Œæ¯æ¬¡é¢æ¿åˆ·æ–°æ•°æ®éƒ½ä¼šè¿›è¡Œè®¤è¯ï¼Œæ‰€ä»¥ä»¿ç…§è¿™ä¸ªåœ°å€å°†Tokenæ”¾åˆ°Cookieé‡Œï¼Œæ¯æ¬¡éªŒè¯çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹ï¼Œè€Œä¸”è¿˜è¦åˆ¤æ–­tokenæ˜¯å¦è¿‡æœŸï¼Œä»£ç å…ˆä¸è´´äº†ï¼Œéœ€è¦éªŒè¯  </li>
</ul>
<h4 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h4><p>å…¶å®ä¸åªè¿™ä¸¤ä¸ªï¼Œè¿™é‡Œåªæ˜¯æŠŠè‡ªå·±ç”¨åˆ°çš„è®°å½•ä¸€ä¸‹ï¼Œå…¶ä»–çš„è¿˜æœ‰Quartz.NETï¼ŒFluentSchedulerç­‰ï¼Œä»Šå¤©çœ‹å…¬ä¼—å·å‘ç°2.1é‡Œé¢ä¹Ÿè‡ªå¸¦äº†IHostedServiceæ¥å£ï¼Œå…·ä½“ç”¨æ³•è¿˜æ˜¯å‚è€ƒå®˜æ–¹æ–‡æ¡£å§ï¼Œå¥½äº†ï¼Œæ´—æ¼±ç¡è§‰äº†ğŸ˜ª</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/06/08/å…³äºSupervisorå’ŒNginxçš„ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/08/å…³äºSupervisorå’ŒNginxçš„ä½¿ç”¨/" itemprop="url">å…³äºSupervisorå’ŒNginxçš„ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-06-08T21:44:06+08:00">
                2018-06-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æ„Ÿè§‰å¥½ä¹…æ²¡å†™äº†ï¼Œé‚£å°±ç®€å•è¯´ä¸€ä¸‹æœ€è¿‘å·¥ä½œä¸­æ‰€ç”¨åˆ°çš„Nginxå’ŒSupervisorå§ï¼Œè™½ç„¶ç½‘ä¸Šä¹Ÿä¸€æœä¸€å¤§æŠŠï¼Œå°±å½“è‡ªå·±åšä¸‹æ€»ç»“å§  </p>
<h4 id="Nginxçš„ä½¿ç”¨"><a href="#Nginxçš„ä½¿ç”¨" class="headerlink" title="Nginxçš„ä½¿ç”¨"></a>Nginxçš„ä½¿ç”¨</h4><p>å·¥ä½œä¸­ç”¨çš„æ˜¯centosï¼Œå®‰è£…ç®€å•çš„ç”¨yumç›´æ¥å®‰è£…çš„ï¼Œè¿˜å¯ä»¥ç›´æ¥å¼€æœºå¯åŠ¨ï¼Œä¸‹é¢ç®€å•è¯´è¯´è·¯å¾„åŒ¹é…çš„é—®é¢˜ï¼Œé¡¹ç›®åˆšå¼€å§‹çš„æ˜¯ç”¨çš„æ˜¯åç¼€åè¿›è¡ŒåŒ¹é…ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location ~*\.(gif|png|jpg|jpeg|bmp)$ &#123;</span><br><span class="line">	default_type	&apos;application/octet-stream&apos;;</span><br><span class="line">	root		/home/Images/;</span><br><span class="line">	expires		1d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœé¡¹ç›®ä¸­åªéœ€è¦åŒ¹é…ä¸€ç§ç±»å‹çš„å›¾ç‰‡ç”¨è¿™ç§æ¨¡å¼å°±å¯ä»¥äº†ï¼Œå¦å¤–è¿™ç§åŒ¹é…æ¯”locationè¦ç²¾ç¡®ï¼Œæ‰€ä»¥é»˜è®¤æœ€ç»ˆä¼šåŒ¹é…è¿™ç§ç±»å‹ï¼Œæ¯”å¦‚æƒ³è®¿é—®swaggerçš„å›¾ç‰‡ï¼Œç»“æœå°±å› ä¸ºè¿™ä¸ªåŸå› è®¿é—®ä¸äº†ï¼Œå¯ä»¥å°è¯•åŠ ^~è¿›è¡Œå¤„ç†å¹¶ä¸”è¦æ”¾åˆ°è¿™ä¸ªä¹‹å‰ï¼Œä½†æ˜¯å› ä¸ºè¿™ä¸ªé¡¹ç›®ä¸­åˆ†å¥½å‡ ç§ç±»å‹çš„å›¾ç‰‡ï¼Œéœ€è¦å•ç‹¬åˆ†å¼€è®¿é—®ï¼Œæ‰€ä»¥æœ€ç»ˆå…¨æ˜¯ç”¨locationè¿›è¡ŒåŒ¹é…çš„ï¼Œè€Œä¸”å˜ç®€å•äº†  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location ~* /logo/ &#123;</span><br><span class="line">		root		/;</span><br><span class="line">		rewrite		/logo/(.*)$ /home/logo/Images/$1 break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰æ¬¡ä¸çŸ¥é“ä»€ä¹ˆåŸå› webç›®å½•çš„æƒé™çªç„¶å˜äº†ï¼Œé€ æˆ403 forbiddenäº†ï¼ŒæŸ¥çœ‹nginxæ—¥å¿—ä¹Ÿæ˜¯æƒé™è¢«æ‹’ç»ï¼Œé€šè¿‡chmod -R 777 *è¿˜æ˜¯ä¸è¡Œï¼Œæœç´¢ç½‘ä¸Šå‘ç°éœ€è¦é‡å¯nginxï¼Œç®€å•reloadæ˜¯æ²¡ç”¨çš„ï¼Œè¿™é‡Œè®°å½•ä¸‹</p>
<h4 id="Supervisorçš„ä½¿ç”¨"><a href="#Supervisorçš„ä½¿ç”¨" class="headerlink" title="Supervisorçš„ä½¿ç”¨"></a>Supervisorçš„ä½¿ç”¨</h4><p>ä¸‹é¢è¯´è¯´Supervisorçš„ç”¨æ³•ï¼Œåˆšå¼€å§‹æŠ˜è…¾äº†åŠå¤©éƒ½ä¸èµ·ä½œç”¨ï¼Œå› ä¸º[include]å‰é¢çš„;å¿˜è®°åˆ æ‰äº†ï¼Œå½“æ—¶æ˜¯ç›´æ¥å†™åœ¨ä¸‹é¢äº†ï¼Œä¸ç®¡æ€ä¹ˆè¯´å€’æ˜¯èµ·ä½œç”¨äº†ï¼Œé…ç½®å¦‚ä¸‹ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[program:redis]</span><br><span class="line">command=redis-server</span><br><span class="line">directory=/usr/local/bin/</span><br><span class="line">user=user</span><br><span class="line">autostart=true</span><br><span class="line">autorestart=true</span><br><span class="line">startsecs=2</span><br><span class="line"></span><br><span class="line">[program:TestApi]</span><br><span class="line">command=dotnet TestApi.dll</span><br><span class="line">directory=/home/project/TestApi/</span><br><span class="line">stderr_logfile=/var/log/museumApi.error.log</span><br><span class="line">stdout_logfile=/var/log/museumApi.stdout.log</span><br><span class="line">environment=ASPNETCORE_ENVIRONMNET=Production</span><br><span class="line">user=user</span><br><span class="line">autostart=true</span><br><span class="line">autorestart=true</span><br><span class="line">startsecs=2</span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰webç®¡ç†ç•Œé¢ï¼Œé…ç½®å¦‚ä¸‹ï¼š    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[inet_http_server]         ; inet (TCP) server disabled by default</span><br><span class="line">port=0.0.0.0:9001        ; ip_address:port specifier, *:port for all iface</span><br><span class="line">username=admin              ; default is no username (open server)</span><br><span class="line">password=123123               ; default is no password (open server)</span><br></pre></td></tr></table></figure>
<p>ä¸è¿‡ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ç”¨ï¼Œä¸å®‰å…¨ï¼</p>
<h4 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h4><p>æœ€è¿‘ä¸€ç›´åœ¨ç”¨Linuxéƒ¨ç½²ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œå¦å¤–æƒ³ä½¿ç”¨ä¸€ä¸‹CIå·¥å…·ï¼Œå¯æ‰¾æ¥æ‰¾å»è¦ä¹ˆæ˜¯åœ¨çº¿çš„ï¼Œè¦ä¹ˆæ˜¯Javaä¸‹çš„ï¼Œæœ¬äººæœ‰ç‚¹åæ‰§ï¼Œä¸æƒ³åŒæ—¶åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šå®‰è£…ä¸¤ç§SDKï¼Œ.netä¸‹çš„å°±ä¸€ä¸ªCruiseControl.NETï¼Œè²Œä¼¼è¿˜ä¸æ”¯æŒLinuxï¼Œæ„Ÿè§‰ç”šæ˜¯æ‚²å“€å•Šï¼Œæ²¡åŠæ³•ï¼Œè°è®©ä½ ä¹‹å‰ä¸è·¨å¹³å°å‘¢ï¼Œæ‰“ç®—è‡ªå·±å†™ä¸ªç®€å•ç‚¹çš„å·¥å…·ï¼Œå°±è¿™æ ·å§ğŸ‘¿</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/04/24/Springboot-Mybatisæµ‹è¯•æˆåŠŸ/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/24/Springboot-Mybatisæµ‹è¯•æˆåŠŸ/" itemprop="url">Springboot+Mybatisæµ‹è¯•æˆåŠŸ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-24T23:26:27+08:00">
                2018-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å®ç°ç›®æ ‡"><a href="#å®ç°ç›®æ ‡" class="headerlink" title="å®ç°ç›®æ ‡"></a>å®ç°ç›®æ ‡</h4><p>ç”±äºåªæ˜¯æµ‹è¯•ï¼Œæ‰€ä»¥åªè¦å½“å‰ç›®æ ‡åªè¦ç”¨Springboot+mybatiså¯åŠ¨æˆåŠŸå³å¯ï¼Œåªå½“è‡ªå·±çš„å­¦ä¹ ï¼Œæ•°æ®åº“ç”¨çš„æ˜¯postgresqlï¼Œç›®å‰ç½‘ä¸Šçš„mysqlå±…å¤šï¼Œè‡ªå·±å­¦ä¹ è‚¯å®šè¦æœ‰ç‚¹åŒºåˆ«</p>
<h4 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h4><p>ç›®å‰å…¬å¸ä¸€ç›´åœ¨è½¬javaï¼Œè€Œä¸”å¹´å‰é‚£ä¼šæ‹›.netç¡®å®ä¸å¤ªå¥½æ‹›ï¼Œå°±ç®—ä»¥åè‡ªå·±ç¦»èŒä¹Ÿå¥½è¿›è¡Œäº¤æ¥ï¼Œå°±å½“ä¸ºè‡ªå·±ç•™æ¡åè·¯</p>
<h4 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h4><p>ä¹‹å‰å¶å°”ä¹Ÿæµ‹è¯•è¿‡ï¼Œæœ‰æ—¶å€™æˆåŠŸï¼Œæœ‰æ—¶å€™å¤±è´¥ï¼Œè™½ç„¶sprintbootå·²ç»å°è£…çš„å¾ˆå¥½äº†ï¼Œå¯æƒœå¯¹æˆ‘è¿™ä¸ªé—¨å¤–æ±‰è¿˜æ˜¯æœ‰ç‚¹æ‘¸ä¸ç€é—¨è·¯ï¼Œå…¶å®åªæ˜¯ä¸ç†Ÿæ‚‰è€Œå·²ï¼Œè€Œä¸”ä¹‹å‰å…¶å®æ˜¯æ²¡åšè¿‡è¿™æ–¹é¢çš„ä¸œè¥¿çš„ï¼Œä¹‹å‰å®¢æˆ·ç«¯å±…å¤šï¼Œdotnet coreä¹Ÿæ˜¯ä¸€ä¸Šæ¥å°±å­¦ï¼Œç¡®å®ä¹Ÿå°‘äº†è®¸å¤šåŒ…è¢±ï¼Œä½†æ„¿Javaä¹Ÿæ˜¯ï¼Œè¨€å½’æ­£ä¼ ï¼š  </p>
<ul>
<li>æ„å»ºè„šæ‰‹æ¶ï¼Œå»<a href="https://start.spring.io" target="_blank" rel="noopener">å¯åŠ¨é¡µ</a>è¿›è¡Œæ„å»ºï¼Œç›®å‰é€‰æ‹©Webä¸­çš„Webï¼ŒJerseyï¼ŒSQlä¸­çš„MyBatisï¼ŒMavenè¿˜æ˜¯Gradleéƒ½å¯ä»¥ï¼Œæ ¹æ®è‡ªå·±æƒ…å†µé€‰æ‹©  </li>
<li>å¯¼å…¥å·¥ç¨‹ï¼Œè¿›è¡Œæ„å»ºï¼Œæˆ‘è¿™é‡Œé€‰çš„intellJ IDEAç¤¾åŒºç‰ˆï¼Œå…è´¹å˜›ï¼Œeclipseä¹Ÿå¯ä»¥ï¼Œæ ¹æ®è‡ªå·±ä¹ æƒ¯ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©Mavenå·¥ç¨‹ï¼Œé€‰æ‹©jdkç‰ˆæœ¬ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è‡ªåŠ¨æ„å»ºäº†</li>
<li>æ–°å»ºæ§åˆ¶å™¨  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//å¢åŠ æ³¨è§£</span><br><span class="line">@RestController</span><br><span class="line">public class HelloController &#123;</span><br><span class="line">    //å¢åŠ å¯¹åº”å…³ç³»</span><br><span class="line">    @RequestMapping(value=&quot;/hello&quot;)</span><br><span class="line">    public String Hello()&#123;</span><br><span class="line">        return  &quot;good&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¿®æ”¹application.propertiesæ–‡ä»¶ï¼Œå¢åŠ æ•°æ®åº“é…ç½®  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//é…ç½®æ•°æ®åº“url</span><br><span class="line">spring.datasource.url=jdbc:postgresql://localhost:5432/xxx?useUnicode=true&amp;characterEncoding=utf8</span><br><span class="line">//ç”¨æˆ·å</span><br><span class="line">spring.datasource.username=xxx</span><br><span class="line">//å¯†ç </span><br><span class="line">spring.datasource.password=xx</span><br><span class="line">é©±åŠ¨</span><br><span class="line">spring.datasource.driverClassName=org.postgresql.Driver</span><br><span class="line">//å®ä½“ä½ç½®ï¼Œå½“å‰è¿˜ä¸æ¶‰åŠåˆ°ï¼Œæ‰€ä»¥æ²¡ç”¨åˆ°</span><br><span class="line">mybatis.typeAliasesPackage=com.hellojxl.helloMybaits.boot_feature.entity</span><br><span class="line">//æ˜ å°„çš„xmlæ‰€åœ¨ä½ç½®</span><br><span class="line">mybatis.mapperLocations=classpath:mapper/*.xml</span><br></pre></td></tr></table></figure>
<ul>
<li>è°ƒå‡ºMavenå·¥ç¨‹çª—å£ï¼Œæ–¹æ³•æ˜¯ï¼šView-&gt;Tool Window-&gt;Maven Projectsï¼Œé€‰ä¸­spring-bootï¼Œå³é”®spring-boot-&gt;runè¿›è¡Œå¯åŠ¨ï¼Œå½“åˆç”¨è¿™ä¸ªè¿˜æœ‰ç‚¹æ‡µé€¼ğŸ˜…  </li>
</ul>
<h4 id="å‡ºç°çš„é—®é¢˜"><a href="#å‡ºç°çš„é—®é¢˜" class="headerlink" title="å‡ºç°çš„é—®é¢˜"></a>å‡ºç°çš„é—®é¢˜</h4><ul>
<li>å¼‚å¸¸ï¼šSpring Boot - Error creating bean with name â€˜dataSourceâ€™ defined in class path resource<br>è§£å†³æ–¹æ³•ï¼šé©±åŠ¨é…ç½®å‡ºé”™ï¼Œé¦–å…ˆæ²¡æœ‰åŠ è½½postgresqlé©±åŠ¨ï¼Œåœ¨pomæ–‡ä»¶ä¸­å¢åŠ ï¼š  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;postgresql&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;postgresql&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ˜¯æ•°æ®åº“é…ç½®å‡ºé”™ï¼Œé©±åŠ¨é…ç½®çš„æ˜¯mysqlçš„ï¼Œè‡ªå·±å¤åˆ¶ç²˜è´´çš„é”…  </p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>è¿™ä¸ªå°±å½“è‡ªå·±å¼€å§‹å­¦ä¹ Javaçš„æ€»ç»“å§ï¼Œä¸‹æ¬¡å‡†å¤‡è¿›è¡Œæ•°æ®çš„æ“ä½œï¼Œå†ç„¶åå°±æ˜¯æ‰“ç®—æŠŠå½“å‰é¡¹ç›®ç§»æ¤ä¸€ä¸‹ï¼Œå¥½äº†ï¼Œæ´—æ¼±ç¡è§‰äº†ğŸ˜ª</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/04/23/å…³äºdapperè¿ç§»åˆ°SqlSugarçš„è®°å½•/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/23/å…³äºdapperè¿ç§»åˆ°SqlSugarçš„è®°å½•/" itemprop="url">å…³äºdapperè¿ç§»åˆ°SqlSugarçš„è®°å½•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-23T23:36:46+08:00">
                2018-04-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c#</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="è¿ç§»åŸå› "><a href="#è¿ç§»åŸå› " class="headerlink" title="è¿ç§»åŸå› "></a>è¿ç§»åŸå› </h4><p>ç”±äºæ¥å—çš„æ˜¯ä¹‹å‰é¡¹ç›®ç»„å¼€å‘çš„é¡¹ç›®çš„ï¼Œé¡¹ç›®æ˜¯ç”±æœ¬äººä».net frameworkè¿ç§»è‡³dotnet coreçš„ï¼Œç›®å‰ç”¨åˆ°Predicateï¼Œå‘ç°å„ç§å¼‚å¸¸ï¼ŒåŠ ä¹‹æ—¶é—´æ¯”è¾ƒç´§è€Œä¸”dapperextensionsè²Œä¼¼è¿˜æ²¡æœ‰å®Œå…¨è¿ç§»åˆ°dotnet coreï¼Œæœ€åè€ƒè™‘å†ä¸‰æ‰“ç®—æ”¾å¼ƒdapper(å…¶å®dapperæœ¬èº«æ¥è¯´è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œåªæ˜¯dapperextensionsç°åœ¨æ¥è¯´ä¸å¤ªå¥½ç”¨)ï¼Œçœ‹äº†çœ‹å‘ç°äº†SqlSugarï¼Œç»è¿‡æµ‹è¯•å‘ç°ï¼Œå¦‚æœå¿½ç•¥SqlSugarçš„ormç‰¹æ€§ï¼Œå®Œå…¨å¯ä»¥æ— ç¼è¿ç§»è¿‡å»ï¼Œè€Œä¸”ç”±äºå›½äººå¼€å‘çš„åŸå› ï¼Œæ–‡æ¡£è¿˜ç®—é½å…¨ï¼Œå‘ç°å›½äººçš„åº“è¿˜æ˜¯æ¯”è¾ƒé è°±çš„ğŸ˜Šï¼Œç»™å›½äººç‚¹ä¸ªğŸ‘</p>
<h4 id="è¿ç§»è¿‡ç¨‹"><a href="#è¿ç§»è¿‡ç¨‹" class="headerlink" title="è¿ç§»è¿‡ç¨‹"></a>è¿ç§»è¿‡ç¨‹</h4><p>å…·ä½“ç»†èŠ‚å°±ä¸å¤šè¯´äº†ï¼Œåªå†™è‡ªå·±ç›®å‰ç”¨åˆ°çš„ç‰¹æ€§  </p>
<ul>
<li><p>sqlè¯­å¥æŸ¥è¯¢ï¼Œè¿™ä¸ªä¸å¿…è¯´ï¼Œå› ä¸ºdapperä¸»è¦æ˜¯æ“ä½œsqlè¯­å¥ï¼Œç”±äºé¡¹ç›®ä¸­å˜åŠ¨ä¸èƒ½å¤ªå¤§ï¼Œä¸ç„¶éå¾—ç–¯äº†ä¸å¯ï¼Œå®é™…è¿ç§»è¿‡ç¨‹ä¸­è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„  </p>
</li>
<li><p>å®ä½“åŠè¡¨ç»“æ„æ“ä½œï¼Œæ›´æ”¹å¯¹åº”è¡¨åçš„åŠŸèƒ½dapperä¹Ÿæœ‰ï¼Œä½†å‘ç°dapperextensionså®Œå…¨éœ€è¦å†é‡æ–°åšä¸€éå¯¹åº”çš„æ“ä½œï¼Œè€Œä¸”ä¼šæœ‰å¼‚å¸¸é—®é¢˜ï¼Œå¾ˆæ˜¯éº»çƒ¦ï¼Œè¿™ä¸ªåœ¨sqlSugarä¸­å°±å¾ˆç®€å•</p>
</li>
<li><p>æ¡ä»¶æŸ¥è¯¢ç³»ç»Ÿï¼Œé¡¹ç›®è¿ç§»å¯¹ä¸»è¦åŸå› å°±æ˜¯å› ä¸ºdapperextensionsçš„Predicateç³»ç»Ÿè²Œä¼¼å®Œå…¨å¤„äºç˜«ç—ªçŠ¶æ€ï¼Œè‡ªå·±åˆæ²¡æœ‰æ—¶é—´å»ä¿®æ”¹ï¼Œè¿ç§»åˆ°SqlSugarä¹‹åç”¨çš„å¾ˆæ˜¯èˆ’å¿ƒï¼Œè€Œä¸”è¯­æ³•ä¸Šä¹Ÿå·®åˆ«ä¸å¤§  </p>
</li>
<li><p>åˆ†é¡µåŠŸèƒ½ï¼Œè¿™æœ¬æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„åŠŸèƒ½ï¼Œéƒ½æœ‰æä¾›ï¼Œä¸å¤šè¯´ã€‚  </p>
</li>
</ul>
<p>ç”±äºSqlSugaræœ¬èº«å°±æ˜¯ORMï¼Œæ‰€ä»¥å¯ä»¥çœå¥½å¤šäº‹ï¼Œè€Œä¸”ä¹Ÿåƒæ–‡æ¡£ä»‹ç»çš„é‚£æ ·Lambdaçš„è§£æä¹Ÿéå¸¸å®Œå–„</p>
<h4 id="è¿ç§»ç»“æœ"><a href="#è¿ç§»ç»“æœ" class="headerlink" title="è¿ç§»ç»“æœ"></a>è¿ç§»ç»“æœ</h4><p>ç›®å‰å·²ç»å®Œæˆè¿ç§»ï¼Œæ­£åœ¨è¿›è¡Œå¼€å‘ï¼Œç›®å‰è¿˜æ²¡æœ‰ä»€ä¹ˆå‘ï¼Œå¹¶å‘æ€§è¿˜æ²¡æœ‰æµ‹è¯•ï¼Œç­‰é¡¹ç›®å®Œæˆäº†æ¥ä¸ªæµ‹è¯•ï¼Œçœ‹çœ‹ç»“æœå¦‚æœï¼Œä¹Ÿå¸Œæœ›èƒ½å¤šå¤šæ”¯æŒå›½äººçš„é¡¹ç›®<a href="http://www.codeisbug.com/Doc/8/1121" target="_blank" rel="noopener">SqlSugar4æ–‡æ¡£åœ°å€</a>ï¼Œ<a href="https://github.com/sunkaixuan/sqlsugar" target="_blank" rel="noopener">GitHubåœ°å€</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/04/11/dotnet-coreåœ¨swaggerä¸­æ·»åŠ è®¤è¯/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/11/dotnet-coreåœ¨swaggerä¸­æ·»åŠ è®¤è¯/" itemprop="url">dotnet coreåœ¨swaggerä¸­æ·»åŠ è®¤è¯</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-11T22:24:08+08:00">
                2018-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/dotnet-core/" itemprop="url" rel="index">
                    <span itemprop="name">dotnet core</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>2018-04-16æ›´æ–°ï¼šç»è¿‡æµ‹è¯•ï¼Œè¿™ä¹ˆå†™æ˜¯å¯ä»¥çš„ï¼Œåªæ˜¯æ¯æ¬¡è°ƒç”¨å‰éƒ½è¦åŠ ä¸Šï¼šbearer token,å¯ä»¥åœ¨å‘½åFilterçš„æ—¶å€™åŠ ä¸Šæé†’ä¸€ä¸‹ï¼Œæš‚æ—¶æ²¡å»æƒ³å…¶å®ƒæ›´å¥½çš„æ–¹æ³•  </p>
<p>è¿˜æœ‰å½“å‰å¦‚æœæœ‰å¤šä¸ªé¡¹ç›®çš„è¯ï¼Œæ¯”å¦‚è¿™ä¸ªé¡¹ç›®å¼•ç”¨äº†å¦ä¸€ä¸ªé¡¹ç›®çš„modelï¼Œé»˜è®¤æ˜¯ä¸ä¼šæ˜¾ç¤ºæ³¨é‡Šçš„ï¼Œè§£å†³æ–¹æ³•æ˜¯ï¼šæ¯ä¸ªé¡¹ç›®å•ç‹¬ç”Ÿæˆxmlæ–‡ä»¶ï¼Œç„¶ååœ¨include XMLæ–‡æ¡£æ—¶åŒæ—¶å¼•å…¥ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ˜¾ç¤ºäº†</p>
<p>Nignxåå‘ä»£ç†çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤ä¼šæ‰¾ä¸åˆ°swaggerçš„jsonæ–‡ä»¶å¯¼è‡´å¤±è´¥ï¼Œæ–¹æ³•æ˜¯ï¼š  </p>
<pre><code>//åŠ å…¥ä¸¤ä¸ªç‚¹
c.SwaggerEndpoint(&quot;../swagger/v1/swagger.json&quot;, &quot;My API V1&quot;);
</code></pre><hr>
<p>æœ€è¿‘é¡¹ç›®ä¸­ç”¨åˆ°swaggerè¿›è¡ŒApiæ–‡æ¡£è¯´æ˜ï¼Œä¹‹å‰åªæ˜¯åŒ†åŒ†çš„æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè¿™æ¬¡å‰ç«¯è¯´è¦çœ‹ä¸€ä¸‹å°±ä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹ï¼Œç”±äºé¡¹ç›®ä¸­å¢åŠ äº†jwtè®¤è¯ï¼Œå½“ç„¶ä¹Ÿè¦åœ¨swaggerä¸­ä½“ç°å‡ºæ¥ï¼Œå°±ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹ï¼Œè™½ç„¶æ–‡ç« ä¸å°‘å¯æ˜¯ä¸æ˜¯ç‰ˆæœ¬å¯¹ä¸ä¸Šå°±æ˜¯ç”¨ä¸äº†ï¼Œå¥½ä¸å®¹æ˜“åœ¨è¿™ä¸ª<a href="https://blog.sluijsveld.com/28/01/2016/CustomSwaggerUIField/" target="_blank" rel="noopener">åšå®¢</a>ä¸Šæ‰¾åˆ°ç‚¹çº¿ç´¢ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚</p>
<h4 id="æ·»åŠ Swagger"><a href="#æ·»åŠ Swagger" class="headerlink" title="æ·»åŠ Swagger"></a>æ·»åŠ Swagger</h4><p>è¿™ä¸ªå¾ˆç®€å•ï¼Œç½‘ä¸Šæ•™ç¨‹ä¹Ÿå¤šçš„æ˜¯ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹:  </p>
<pre><code>//æ·»åŠ å¼•ç”¨
using Swashbuckle.AspNetCore.Swagger;


//åœ¨ConfigureServicesä¸­æ·»åŠ 
services.AddSwaggerGen(c =&gt;
{
    c.SwaggerDoc(&quot;v1&quot;, new Info { Title = &quot;My API&quot;, Version = &quot;v1&quot; });
    //æ·»åŠ xmlæ³¨é‡Šè¯´æ˜ï¼Œä¸‹é¢ä¼šè¯´
    var filePath = Path.Combine(PlatformServices.Default.Application.ApplicationBasePath, &quot;MyApi.xml&quot;);
    c.IncludeXmlComments(filePath);
    //æ·»åŠ è®¤è¯ï¼Œä¸‹é¢ä¼šè¯´
    c.OperationFilter&lt;AuthorizationHeaderFilter&gt;();
});

//åœ¨Configureä¸­æ·»åŠ 
app.UseSwagger();
app.UseSwaggerUI(c =&gt;
{
    c.SwaggerEndpoint(&quot;/swagger/v1/swagger.json&quot;, &quot;My API V1&quot;);
});

</code></pre><p>è¿™æ ·é»˜è®¤swaggerå°±å¯ä»¥å¯åŠ¨äº†ï¼Œå½“ç„¶å¦‚æœç°åœ¨çœŸè¦è¿è¡Œæ˜¯èµ·ä¸æ¥çš„ï¼Œå› ä¸ºè¿˜æ²¡æœ‰ç”Ÿæˆxmlæ³¨é‡Šæ–‡æ¡£ï¼Œä¸‹é¢æ¥æ·»åŠ   </p>
<h4 id="æ·»åŠ xmlæ–‡æ¡£æ³¨é‡Š"><a href="#æ·»åŠ xmlæ–‡æ¡£æ³¨é‡Š" class="headerlink" title="æ·»åŠ xmlæ–‡æ¡£æ³¨é‡Š"></a>æ·»åŠ xmlæ–‡æ¡£æ³¨é‡Š</h4><p>è¿™ä¸ªå¦‚æœç”¨vsçš„è¯å¾ˆç®€å•ï¼Œåœ¨é¡¹ç›®é…ç½®é‡Œé…ç½®ä¸€ä¸‹å°±å¥½ï¼Œå¦‚æœç”¨vs codeçš„è¯ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œå…¶å®æ›´ç®€å•ï¼Œåªæ˜¯åˆšå¼€å§‹ä¸çŸ¥é“æ€ä¹ˆåŠ è€Œå·²ï¼Œåªéœ€è¦åœ¨csprojæ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢ä»£ç   </p>
<pre><code>&lt;PropertyGroup&gt;
    &lt;TargetFramework&gt;netcoreapp2.0&lt;/TargetFramework&gt;
    //ä¸‹é¢è¿™å¥ï¼Œæ³¨æ„æ–‡ä»¶åç§°
    &lt;DocumentationFile&gt;bin/Debug/netcoreapp2.0/myApi.xml&lt;/DocumentationFile&gt; 
  &lt;/PropertyGroup&gt;    
</code></pre><p>å…¶å®ä¹Ÿå¯ä»¥æ·»åŠ åˆ°è¿™é‡Œ  </p>
<pre><code>&lt;PropertyGroup Condition=&quot;&apos;$(Configuration)|$(Platform)&apos;==&apos;Debug|AnyCPU&apos;&quot;&gt;
&lt;DocumentationFile&gt;bin/Debug/netcoreapp2.0/myApi.xml&lt;/DocumentationFile&gt;  
</code></pre><p>åªæ˜¯æˆ‘å‘ç°æœ‰çš„å·¥ç¨‹é‡Œæ²¡æœ‰Conditioné€‰é¡¹ï¼Œå‘ç°æ·»åŠ åˆ°TargetFrameworkä¸‹ä¹Ÿå¯ä»¥å°±éƒ½å†™ä¸Šäº†ï¼Œvs codeæ·»åŠ æ³¨é‡Šå¯ä»¥ç”¨XML Documentation Comments Support for Visual Studio Codeæ’ä»¶ï¼Œå’Œvsä¸€æ ·ï¼Œåªæ˜¯æœ‰çš„æ—¶å€™è²Œä¼¼ä¼šå¤šåŠ ä¸ªreturnï¼Œè€Œä¸”ä¸€æ—¦è¦æ³¨é‡Šï¼Œæ•´ä¸ªå·¥ç¨‹éƒ½è¦æœ‰æ³¨é‡Šï¼Œå¦åˆ™æ— æ³•è¿è¡Œï¼Œæš‚æ—¶æ²¡è€ƒè™‘æ€ä¹ˆè§£å†³ï¼Œä»¥åå†è¯´  </p>
<h4 id="æ·»åŠ è®¤è¯é€‰é¡¹"><a href="#æ·»åŠ è®¤è¯é€‰é¡¹" class="headerlink" title="æ·»åŠ è®¤è¯é€‰é¡¹"></a>æ·»åŠ è®¤è¯é€‰é¡¹</h4><p>ä¸‹é¢è¯´åˆ°æ€ä¹ˆæ·»åŠ è®¤è¯äº†ï¼Œå°±æ˜¯ä¸Šé¢é‚£ä¸ªAuthorizationHeaderFilterï¼Œæ–°å»ºä¸€ä¸ªç±»ï¼Œå¹¶å®ç°æ¥å£IOperationFilterå°±å¯ä»¥äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š  </p>
<pre><code>using System.Collections.Generic;
using System.Linq;
using Microsoft.AspNetCore.Mvc.Authorization;
using Swashbuckle.AspNetCore.Swagger;
using Swashbuckle.AspNetCore.SwaggerGen;

public class AuthorizationHeaderFilter : IOperationFilter
{
    public void Apply(Operation operation, OperationFilterContext context)
    {
         var filterPipeline = context.ApiDescription.ActionDescriptor.FilterDescriptors;
         var isAuthorized = filterPipeline.Select(filterInfo =&gt; filterInfo.Filter).Any(filter =&gt; filter is AuthorizeFilter);
         var allowAnonymous = filterPipeline.Select(filterInfo =&gt; filterInfo.Filter).Any(filter =&gt; filter is IAllowAnonymousFilter);
         if (isAuthorized &amp;&amp; !allowAnonymous)
         {
             if (operation.Parameters == null)
             {
                 operation.Parameters = new List&lt;IParameter&gt;();
             }
             operation.Parameters.Add(new NonBodyParameter
             {
                    Name = &quot;Authorization&quot;,
                    In = &quot;header&quot;,
                    Description = &quot;access token&quot;,
                    Required = true,
                    Type = &quot;string&quot;
              });
          }
     }
} 
</code></pre><h4 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h4><p>å¥½äº†ï¼Œè¿™æ ·å¯åŠ¨é¡¹ç›®å°±å¯ä»¥çœ‹è§swaggerä¸­è¦æ±‚å¡«å…¥Authorizationçš„å­—æ®µäº†ï¼Œè™½ç„¶å¯ä»¥å®ç°ä½†è¿˜æ²¡å…·ä½“çš„æµ‹è¯•ï¼Œæ˜å¤©æœ‰æ—¶é—´æµ‹è¯•ä¸‹ï¼Œå¯èƒ½æœ‰é”™è¯¯çš„åœ°æ–¹ï¼Œå¦‚æœå‘ç°äº†ä¼šæ”¹ï¼Œä»…ä¾›å‚è€ƒå§ğŸ”š</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/04/10/Vscodeæ’ä»¶sqltoolsçš„ç”¨æ³•/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/10/Vscodeæ’ä»¶sqltoolsçš„ç”¨æ³•/" itemprop="url">Vscodeæ’ä»¶sqltoolsçš„ç”¨æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-10T21:26:58+08:00">
                2018-04-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/vscode/" itemprop="url" rel="index">
                    <span itemprop="name">vscode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¥½ä¹…æ²¡å†™ä¸œè¥¿äº†ï¼Œæ„Ÿè§‰ä¸èƒ½å†è¿™æ ·ä¸‹å»äº†ï¼Œèµ¶ç´§è¡¥ä¸€è¡¥ï¼Œæ­£å¥½ä»Šå¤©è¾¹æŸ¥æ•°æ®åº“è¾¹å†™Apiï¼Œçªç„¶æƒ³ä¸ºä½•ä¸éƒ½åœ¨vscodeä¸­å¹²æ´»å‘¢ï¼Œç„¶åå°±æœäº†æœï¼Œè¿˜çœŸæœ‰è¿™æ ·çš„æ’ä»¶ï¼Œå°±æ˜¯sqltoolsï¼Œå…¶å®ä¹‹å‰æœ€æ—©æ˜¯sublimeä¸Šæ‰¾çš„ï¼Œè²Œä¼¼æ˜¯ä¸€ä¸ªå¼€å‘è€…ï¼Œä½†æ˜¯æ²¡é…ç½®æˆåŠŸï¼Œä»Šå¤©åœ¨vscodeé‡Œé…ç½®æˆåŠŸäº†ï¼Œå°±æ­¤è®°å½•ä¸‹</p>
<h5 id="sqltoolsçš„å®‰è£…"><a href="#sqltoolsçš„å®‰è£…" class="headerlink" title="sqltoolsçš„å®‰è£…"></a>sqltoolsçš„å®‰è£…</h5><p>è¿™ä¸ªå¾ˆç®€å•ï¼Œå¦‚æœæ–¹ä¾¿å‘¢ç›´æ¥åœ¨vscodeçš„æ’ä»¶é‡Œæœç´¢sqltoolsï¼Œæˆ–è€…ç”¨å‘½ä»¤å®‰è£…ï¼Œè²Œä¼¼å‘¼å‡ºæ§åˆ¶å°çš„å¿«æ·é”®ä¸ä¸€æ ·ï¼ŒWindowsä¸Šæ˜¯ï¼šF1ï¼ŒMacä¸Šæ˜¯ï¼šShift+Command+Pï¼Œæˆ–è®¸æ˜¯è·Ÿæˆ‘è®¾ç½®çš„å¿«æ·é”®æœ‰å…³ï¼Œå› ä¸ºæœ¬äººä¹‹å‰æ¯”è¾ƒå–œæ¬¢sublime(ç°åœ¨ä¹Ÿç”¨)ï¼Œè¾“å…¥å‘½ä»¤ï¼šext install sqltoolså°±å¯ä»¥äº†</p>
<h4 id="sqltoolsçš„é…ç½®"><a href="#sqltoolsçš„é…ç½®" class="headerlink" title="sqltoolsçš„é…ç½®"></a>sqltoolsçš„é…ç½®</h4><p>ä¹‹å‰åœ¨sublimeä¸­æ²¡é…ç½®æˆåŠŸï¼ŒæŒ‰ç½‘ä¸Šçš„æ•™ç¨‹å¥½åƒä¸èµ·ä½œç”¨ï¼Œè¿™æ¬¡èŠ±äº†ç‚¹æ—¶é—´å…·ä½“ç ”ç©¶äº†vscodeçš„ï¼Œå…·ä½“æ˜¯ï¼š<br>1.æ–°å»ºè¿æ¥<br>ç”¨å‘½ä»¤å¾ˆç®€å•ï¼Œå‘¼å‡ºå‘½ä»¤çª—å£ï¼Œè¾“å…¥ï¼šsqltools management:setupå°±ä¼šæç¤ºæœ‰æç¤ºæ–°å»ºè¿æ¥ï¼ŒæŒ‰æç¤ºè¾“å…¥æ‰€éœ€è¦çš„å­—æ®µå³å¯ï¼Œæˆ–è€…åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæ–°è¿æ¥ï¼Œå®‰è£…å®Œæ—¶ä¼šæœ‰ä¾‹å­ï¼Œä»¿ç…§ç€æ”¾åˆ°é…ç½®æ–‡ä»¶é‡Œçš„â€œsqltools.connectionsâ€é‡Œå°±å¥½äº†<br>2.è¿æ¥æ•°æ®åº“<br>åŒæ ·è¾“å…¥å‘½ä»¤ï¼šsqltools tools:connectå°±ä¼šè¿æ¥ï¼Œå¦‚æœæœ‰å¤šä¸ªæ•°æ®åº“ä¼šæç¤ºè®©è¿›è¡Œé€‰æ‹©ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶é‡Œè®¾ç½®é»˜è®¤è¿æ¥æ•°æ®åº“<br>3.æ‰§è¡ŒæŸ¥è¯¢<br>è¿æ¥æˆåŠŸåä¼šåœ¨å·¦ä¸‹è§’æ˜¾ç¤ºæ‰€æœ‰çš„è¡¨ï¼Œæ­¤æ—¶å†™æŸ¥è¯¢è¯­å¥æ—¶å°±ä¼šå‡ºç°è‡ªåŠ¨æç¤ºï¼Œéå¸¸å¥½ç”¨ï¼Œå†™å®Œä¹‹åé€‰ä¸­è¯­å¥æŒ‰Ctrl+Eé”®ä¸¤æ¬¡å°±å¯ä»¥æ‰§è¡Œäº†ï¼Œå…·ä½“çš„ç”¨æ³•å¯ä»¥çœ‹æ’ä»¶è¯´æ˜</p>
<h4 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h4><p>æ’ä»¶è™½ç„¶ä¸é”™ï¼Œå¯æ˜¯æ€»è§‰å¾—æœ‰ç‚¹ä¸é€‚åº”ï¼Œä½†æ˜¯æ‹¿æ¥åº”åº”æ€¥æ€»æ˜¯å¥½çš„ï¼Œæ­¤å¤–è¿˜æ¨èä¸ªæ’ä»¶ï¼šbackgroundï¼Œå¯ä»¥æ·»åŠ èƒŒæ™¯å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œå¥½äº†ï¼Œå°±è¿™æ ·å§ğŸ˜Šã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellojxl.com/2018/03/29/åœ¨vscodeä¸­å¯ç”¨just-my-code/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sean Jin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hellojxl">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/29/åœ¨vscodeä¸­å¯ç”¨just-my-code/" itemprop="url">åœ¨vscodeä¸­ç¦ç”¨just my code</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-29T20:32:32+08:00">
                2018-03-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/vscode/" itemprop="url" rel="index">
                    <span itemprop="name">vscode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘æ‰“ç®—å¼€å§‹ç”¨vscodeå†™ä»£ç ï¼Œä¹‹å‰ç”¨è¿‡ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰ä¸æ€ä¹ˆå¥½ç”¨ï¼Œæœ€è¿‘åˆç”¨äº†ç”¨ï¼Œæ„Ÿè§‰å¥½ç”¨å¾ˆå¤šï¼Œä»Šå¤©æ‰“å¼€ä¸€ä¸ªé¡¹ç›®å‘ç°è°ƒè¯•ä¸äº†å…¶å®ƒé¡¹ç›®ï¼ŒåŒæ—¶è°ƒè¯•ä¸­ä¸€ç›´åœ¨æ‰“å°å¯ç”¨äº†just my codeï¼Œæ‰€ä»¥å°±æœæ€ä¹ˆç¦ç”¨ï¼Œå½“æ—¶è¿˜æ²¡æœåˆ°ï¼Œåæ¥å¶ç„¶åœ¨å¾®è½¯çš„ç½‘ç«™ä¸ŠæŸ¥åˆ°å¯ä»¥åœ¨launch.jsonä¸‹æ·»åŠ ï¼š</p>
<pre><code>&quot;just my code&quot;:false
</code></pre><p>å°±å¯ä»¥ç¦ç”¨just my codeäº†ï¼Œè¯•ç”¨ä¸‹æ¥æ„Ÿè§‰å·²ç»ä¸æ¯”vså·®äº†ï¼Œè¿˜æœ‰æ™ºèƒ½æç¤ºï¼Œæ„Ÿè§‰å¾ˆæ™ºèƒ½ï¼Œå¯¹äº†é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¯ä»¥è£…ä¸€ä¸‹ç”±å¼€å‘è€…jchannonå¼€å‘çš„C# Extensionsï¼Œéå¸¸å¥½ç”¨ï¼</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Sean Jin">
            
              <p class="site-author-name" itemprop="name">Sean Jin</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:jxl922@outlook.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/jxl922" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i></a>
                  </span>
                
            </div>
          

          
          

          
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sean Jin</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div>

<br>
<span id="busuanzi_container_site_pv">
    æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
</span>
<span id="busuanzi_container_site_uv">
  æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡
</span>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
